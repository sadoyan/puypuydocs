



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://sadoyan.github.io/puypuydocs/agent/jmx/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="/assets/images/home_white.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-4.4.3">
    
    
      
        <title>Java JMX - Metrics collector tool.</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.4031d38b.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.3e3d1dff.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../stylesheets/bootstrap.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="" data-md-color-accent="green">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#jmx" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
<header class="md-header" data-md-component="header">
    <nav class="md-header-nav xl-grid">
        <div class="md-flex">
            <div class="md-flex__cell md-flex__cell--shrink">
                <a href="https://www.oddeye.co/" title="www.oddeye.co" class="md-header-nav__button md-logo">         
                    <img src="../../images/logowhite.png" width="65">            
                </a>        
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
                <a href="https://sadoyan.github.io/puypuydocs/" title="Home" class="home">
                                
<!--                    <img src="/assets/images/home_white.png" width="35" height="30">              -->
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="35" height="28" viewBox="0 0 640 640" class="icon">
                        <path d="M640 409.027l-320-248.391-320 248.392v-101.274l320-248.391 320 248.393zM560 400v240h-160v-160h-160v160h-160v-240l240-180z"></path>
                    </svg>
                    
                </a>
            </div>
            
            <div class="md-flex__cell md-flex__cell--shrink">
                <div class="md-header-nav__source">
                    


  

<a href="https://github.com/sadoyan/puypuy/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
                </div>
            </div>
              
            <div class="md-flex__cell md-flex__cell--shrink">
                <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch">
                <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">                                       
                    <span class="md-header-nav__topic">
                       Metrics collector tool.
                    </span>
                    <span class="md-header-nav__topic">
                        Java JMX
                    </span>                   
                </div>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
                
                <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
                
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
                
            </div>      
            <div class="md-flex__cell md-flex__cell--shrink">
                <a class="try-now" href="https://app.oddeye.co/OddeyeCoconut/signup/" title="Try For Free">                   
                    
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="28" height="20" viewBox="0 0 512 512" class="icon-try">
                        <path d="M122.832 0c-56.864 103.016-66.445 260.152 156.93 254.912v-126.912l192 192-192 192v-124.186c-267.48 6.971-297.286-236.107-156.93-387.814z"></path>
                    </svg>
                    <span>Try For Free!</span>
                </a>
            </div>      
            <div class="md-flex__cell md-flex__cell--shrink">
                <a class="login-now" href="https://app.oddeye.co/OddeyeCoconut/login/" title="Login">
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="35" height="28" viewBox="0 0 512 512" class="icon">                        
                        <path d="M358.4 256l-153.6-128v76.8h-179.2v102.4h179.2v76.8l153.6-128zM435.2 435.2h-204.8v51.2h204.8c28.16 0 51.2-23.040 51.2-51.2v-358.4c0-28.16-23.040-51.2-51.2-51.2h-204.8v51.2h204.8v358.4z"></path>
                    </svg>
                </a>
            </div>      
        </div>
    </nav>
</header>

    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner xl-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
<!--  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://sadoyan.github.io/puypuydocs/" title="Metrics collector tool." class="md-nav__button md-logo">
      
        <img src="../../images/logowhite.png" width="48" height="48">
      
    </a>
    Metrics collector tool.
  </label>-->
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/sadoyan/puypuy/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../system/" title="System Checks" class="md-nav__link">
      System Checks
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../nvidia/" title="Nvidia GPU" class="md-nav__link">
      Nvidia GPU
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../docker/" title="Docker Containers" class="md-nav__link">
      Docker Containers
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      WEB Servers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        WEB Servers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../ws/apache/" title="Apache" class="md-nav__link">
      Apache
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ws/nginx/" title="NginX" class="md-nav__link">
      NginX
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ws/php/" title="PHP-FPM" class="md-nav__link">
      PHP-FPM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ws/tomcat/" title="Tomcat" class="md-nav__link">
      Tomcat
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ws/jetty/" title="Jetty" class="md-nav__link">
      Jetty
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ws/lighty/" title="Lighttpd" class="md-nav__link">
      Lighttpd
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ws/rest/" title="HTTP API" class="md-nav__link">
      HTTP API
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Load Balancers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Load Balancers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../lb/haproxy/" title="HAProxy" class="md-nav__link">
      HAProxy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lb/envoy/" title="Envoy" class="md-nav__link">
      Envoy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lb/traefik/" title="Traefik" class="md-nav__link">
      Traefik
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../varnish/" title="Varnish" class="md-nav__link">
      Varnish
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../cassandra/" title="Cassandra" class="md-nav__link">
      Cassandra
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../ceph/" title="Ceph" class="md-nav__link">
      Ceph
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../lizardfs/" title="LizardFS" class="md-nav__link">
      LizardFS
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../couch/" title="CouchBase, CouchDB" class="md-nav__link">
      CouchBase, CouchDB
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../elastic/" title="ElasticSearch" class="md-nav__link">
      ElasticSearch
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../solr/" title="Solr" class="md-nav__link">
      Solr
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../hadoop/" title="Hadoop" class="md-nav__link">
      Hadoop
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../hbase/" title="HBase" class="md-nav__link">
      HBase
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Java JMX
      </label>
    
    <a href="./" title="Java JMX" class="md-nav__link md-nav__link--active">
      Java JMX
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#jmx" class="md-nav__link">
    JMX
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install" class="md-nav__link">
    Install
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure" class="md-nav__link">
    Configure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restart" class="md-nav__link">
    Restart
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#provides" class="md-nav__link">
    Provides
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../jolokia/" title="Jolokia" class="md-nav__link">
      Jolokia
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../kafka/" title="Kafka" class="md-nav__link">
      Kafka
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../hashicorp/" title="Hashicorp" class="md-nav__link">
      Hashicorp
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../etcd/" title="Etcd" class="md-nav__link">
      Etcd
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../coredns/" title="Coredns" class="md-nav__link">
      Coredns
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../mesos/" title="Mesos" class="md-nav__link">
      Mesos
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../marathon/" title="Marathon" class="md-nav__link">
      Marathon
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../mysql/" title="MySQL" class="md-nav__link">
      MySQL
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../rabbitmq/" title="RabbitMQ" class="md-nav__link">
      RabbitMQ
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../activemq/" title="ActiveMQ" class="md-nav__link">
      ActiveMQ
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../rrs/" title="Redis, Memcached" class="md-nav__link">
      Redis, Memcached
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../riak/" title="Riak" class="md-nav__link">
      Riak
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../fdb/" title="FoundationDB" class="md-nav__link">
      FoundationDB
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../storm/" title="Apache Storm" class="md-nav__link">
      Apache Storm
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../spark/" title="Apache Spark" class="md-nav__link">
      Apache Spark
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../zookeeper/" title="Zookeeper" class="md-nav__link">
      Zookeeper
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../snmp/" title="SNMP" class="md-nav__link">
      SNMP
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../k8s/" title="Kubernetes" class="md-nav__link">
      Kubernetes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../scylla/" title="Scylla" class="md-nav__link">
      Scylla
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../nagios/" title="Nagios/Icinga" class="md-nav__link">
      Nagios/Icinga
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../custom/" title="Custom Checks" class="md-nav__link">
      Custom Checks
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#jmx" class="md-nav__link">
    JMX
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install" class="md-nav__link">
    Install
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure" class="md-nav__link">
    Configure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restart" class="md-nav__link">
    Restart
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#provides" class="md-nav__link">
    Provides
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
<!--                
                  <a href="https://github.com/sadoyan/puypuy/edit/master/docs/agent/jmx.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                -->
    
     <h1></h1>
         
<h3 id="jmx"><strong>JMX</strong></h3>
<p>All Java applications can expose metrics via JMX interface, some of them  do it by default and for others it is obligatory to be configured specially for that. 
While JMX is great way to get statistics from Java servers, it requires Java to read it. This means, that we run Java program for each attempt  to get stats or keep small Java program up and running all the time to read JMX, to convert to more common api and allow non java collector to get these stats.   </p>
<p>It is not effective and quite expensive to start and stop JVM each time, when we need to get statistics. Better way is to keep JVM running all the time, but in any case its another running JVM, which seems more expensive that we want to. </p>
<p>To solve this problem we have decided to use Jolokia JVM agent, which can be attached to the running JVM as an agent and expose metrics via Json. 
<code>{AGENT_HOME}/lib</code> contains  of Jolokia JVM <code>agent.jar</code>version, which works perfectly for us, but if you need fresher or just another version of it, feel free to download JVM agent jar from https://jolokia.org/download.html and replace with it the existing <code>agent.jar</code> file.    <br />
After downloading your prefered version of Jolokia JVM agent, make sure that you have renamed it to agent.jar </p>
<p>Jolokia agent uses <code>Java Attach API</code> to attach agent.jar to running JVM and get statistics via HTTP/Json.
The trick is, that newest JVM's will not allow other users to attach agent to JVM. So if you are running for example Tomcat on behalf of system user <code>tomcat</code> (Hope you are not running Java as root !), agent.jar should be attached via tomcat user as well.<br />
To make this happen Agent must be able to execute java as user tomcat without password. Code below is an example of how <code>/etc/sudoers</code> will be configured :  </p>
<div class="codehilite"><pre><span></span><code>oddeye    ALL = (tomcat) NOPASSWD: /opt/java/bin/java
</code></pre></div>

<p>Change <code>oddeye</code> , <code>tomcat</code> and  <code>/opt/java/bin/java</code> to actual values for your system. </p>
<h5 id="install"><strong>Install</strong></h5>
<div class="codehilite"><pre><span></span><code><span class="nb">cd</span> <span class="si">${</span><span class="nv">OE_AGENT_HOME</span><span class="si">}</span>/checks_enabled
ln -s ../checks_available/check_jmx.py ./
</code></pre></div>

<h5 id="configure"><strong>Configure</strong></h5>
<p>To attach agent to running JVM, Agent needs to know the main class name, which is used to run your java application server. 
If you already do not know main class name, you can get it via command below.</p>
<div class="codehilite"><pre><span></span><code><span class="nb">cd</span> <span class="o">{</span>AGENT_HOME<span class="o">}</span>
java -jar lib/agent.jar list
</code></pre></div>

<p>Output of it should be : </p>
<div class="codehilite"><pre><span></span><code>{PID} {MAIN_CLASS} {Something_else}

15425   org.apache.catalina.startup.Bootstrap start  
28240   org.apache.hadoop.hbase.rest.RESTServer start
14759   org.apache.hadoop.hbase.thrift.ThriftServer start
</code></pre></div>

<p>Above are examples of main classes for Tomcat, HBase Thrift and HBase Rest. 
Typically main class name should be in second column of output. Edit <code>conf/java.ini</code> and put correct fields in section <code>[JMX]</code>   </p>
<div class="codehilite"><pre><span></span><code><span class="k">[JMX]</span>
<span class="na">jmx: http://127.0.0.1:7777/oddeye/read</span>
<span class="na">user: tomcat</span>
<span class="na">class : org.apache.catalina.startup.Bootstrap</span>
<span class="na">java : /opt/java/bin/java</span>
</code></pre></div>

<h5 id="restart"><strong>Restart</strong></h5>
<div class="codehilite"><pre><span></span><code><span class="si">${</span><span class="nv">OE_AGENT_HOME</span><span class="si">}</span>/oddeye.sh restart
</code></pre></div>

<p>If configuration is correct, after restarting Agent daemon, you would see that your existing Java program magically started to listen <code>TCP:7777</code> and exposes JMX via HTTP/Json.
You can change port to whatever you prefer, but do not change context path ot IP address.  </p>
<h5 id="provides"><strong>Provides</strong></h5>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
<th>Type</th>
<th>Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td>jmx_daemonthreadcount</td>
<td>Amount of running java daemon threads</td>
<td>gauge</td>
<td>None</td>
</tr>
<tr>
<td>jmx_gc_collectioncount</td>
<td>Java garbage collections count</td>
<td>counter</td>
<td>None</td>
</tr>
<tr>
<td>jmx_gc_collectiontime</td>
<td>Time spend on GC during last iteration</td>
<td>rate</td>
<td>Milliseconds</td>
</tr>
<tr>
<td>jmx_heap_committed</td>
<td>Committed Java Heap Memory</td>
<td>gauge</td>
<td>Bytes</td>
</tr>
<tr>
<td>jmx_heap_max</td>
<td>Max Java Heap Memory</td>
<td>gauge</td>
<td>Bytes</td>
</tr>
<tr>
<td>jmx_heap_used</td>
<td>Used Java Heap Memory</td>
<td>gauge</td>
<td>Bytes</td>
</tr>
<tr>
<td>jmx_lastgcinfo</td>
<td>Last GC duration</td>
<td>gauge</td>
<td>Milliseconds</td>
</tr>
<tr>
<td>jmx_nonheap_committed</td>
<td>Committed Java Non Heap Memory</td>
<td>gauge</td>
<td>Bytes</td>
</tr>
<tr>
<td>jmx_nonheap_max</td>
<td>Max Java Non Heap Memory</td>
<td>gauge</td>
<td>Bytes</td>
</tr>
<tr>
<td>jmx_nonheap_used</td>
<td>Used Java Non Heap Memory</td>
<td>gauge</td>
<td>Bytes</td>
</tr>
<tr>
<td>jmx_peakthreadcount</td>
<td>Peak amount of running Java Threads</td>
<td>gauge</td>
<td>None</td>
</tr>
<tr>
<td>jmx_threadcount</td>
<td>Total amount of started threads</td>
<td>counter</td>
<td>None</td>
</tr>
</tbody>
</table>




              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../hbase/" title="HBase" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                HBase
              </span>
            </div>
          </a>
        
        
          <a href="../jolokia/" title="Jolokia" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Jolokia
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.718059d6.js"></script>
      
      <script>app.initialize({version:"1.1.2",url:{base:"../.."}})</script>
      
        <script src="../../javascripts/jquery.min.js"></script>
      
        <script src="../../javascripts/bootstrap.min.js"></script>
      
    
  </body>
</html>